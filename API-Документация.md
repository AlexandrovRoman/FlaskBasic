API-Документация

------

На все запросы возвращается JSON-объект в качестве ответа. Далее представлены возможные запросы:

**Пользователь:**

- `GET` `/api/user/<int:user_id>` 

  Возвращает публичные данные о пользователе с идентификационным номером `user_id`, при наличии на то прав.

  Пример ответа:

  ```json
  {"user":
   {"birth_date":"2000-12-13",
    "fathername":"Родионович",
    "id":1,
    "name":"Степан",
    "surname":"Квартовский"}
  ```

- `DELETE` `/api/user/<int:user_id>` 

  Удаляет пользователя с идентификационным номером `user_id`, при наличии на то прав.

**Несколько пользователей:**

- `GET` `/api/user` 

  Возвращает публичные данные о всех пользователях, при наличии на то прав.

- `POST` `/api/user` 

  Создает нового пользователя в системе. С запросом должны передаваться следующие параметры:

  ```
  name, surname, fathername, email, password
  ```

  Эл. почта передаваемая в параметре `email` не должна быть раннее использована на сайте.

**Организация:**

- `GET` `/api/organization/<string:api_token>/<int:org_id>` 

  Возвращает публичные данные об организации с идентификационным номером `org_id`, при передаче в запросе соответствующего JSON-Web-Token([Подробнее](https://ru.wikipedia.org/wiki/JSON_Web_Token)) соответствующего этой организации.

  Пример JWT:

  ```
  eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.
  eyJzdWIiOiIxMjM0NSIsIm5hbWUiOiJKb2huIEdvbGQiLCJhZG1pbiI6dHJ1ZX0K.
  LIHjWCBORSWMEibq-tnT8ue_deUqZx1K0XxCOXZRrBI
  ```

  Пример ответа:

  ```json
  {"organization":
  {"creation_date":"2020-05-09",
   "id":1,
   "name":"Организация 1",
   "org_desc":"Печём с любовью",
   "org_type":"ООО",
   "owner_id":2,
   "vacancies":[]}
  ```

- `DELETE` `/api/organization/<string:api_token>/<int:org_id>` 

  Удаляет организацию с идентификационным номером `org_id`, при передаче соответствующего этой организации JWT

**Несколько организаций:**

- `GET` `/api/organization` 

  Возвращает публичные данные о всех организациях, при наличии на то прав.

- `POST` `/api/organization` 

  Создает новую организацию в системе. Организация будет прикреплена к вошедшему пользователю, если пользователь не вошел,то запрос не будет принят.

   С запросом должны передаваться следующие параметры:

  ```
  name, org_type, org_desc
  ```

  (Имя организации, Тип организации, Описание организации)

**Вакансии:**

- `GET` `api/vacancy`

  Возвращает список всех не занятых вакансий из всех доступных организаций

  Пример ответа:

  ```json
  {"vacancy":
   [{"id":2,
     "org_id":1,
     "salary":30000,
     "title":"Кондитер"},
    {"id":3,
     "org_id":1,
     "salary":50000,
     "title":"Директор"}]
  }
  ```

